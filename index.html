<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Simple Neon Music Player</title>

<style>
  :root{
    --bg: #0e0f1a;
    --accent: #00ffd1;
    --text: #eaffff;
  }

  body{
    margin:0;
    background:var(--bg);
    font-family:Arial, sans-serif;
    color:var(--text);
    display:flex;
    flex-direction:column;
    align-items:center;
    padding:28px;
  }

  h2{ margin:6px 0 2px; }
  p{ margin:0; color:#9cc; }

  #player{
    background:rgba(255,255,255,0.05);
    padding:20px;
    width:min(380px, 95%);
    border-radius:16px;
    border:1px solid rgba(255,255,255,0.08);
    backdrop-filter:blur(8px);
    text-align:center;
  }

  #coverBox{
    width:140px;
    height:140px;
    border-radius:50%;
    margin:auto;
    position:relative;
    background:#111;
    display:flex;
    align-items:center;
    justify-content:center;
    font-size:26px;
    font-weight:bold;
    border:2px solid var(--accent);
    overflow:hidden;
  }

  #coverCanvas{
    position:absolute;
    inset:0;
    width:100%;
    height:100%;
    pointer-events:none;
  }

  button{
    padding:10px 20px;
    margin-top:12px;
    background:var(--accent);
    color:#012;
    border:none;
    border-radius:8px;
    font-weight:bold;
    cursor:pointer;
  }

  #progress{
    width:100%;
    margin-top:15px;
  }
</style>
</head>
<body>

<h2 id="songTitle">Song Title</h2>
<p id="songArtist">Artist Name</p>

<div id="player">
  <div id="coverBox">
    <canvas id="coverCanvas"></canvas>
    FL
  </div>

  <button id="playBtn">Play</button>

  <input id="progress" type="range" value="0" min="0" max="100">
</div>

<audio id="audio" crossorigin="anonymous"></audio>

<script>
const songs = [
  { title:"Flatline", artist:"Justin Bieber", url:"https://raw.githubusercontent.com/rikorandika910/wkw/main/Flatline.mp3" },
  { title:"Nuts", artist:"Rainy Bear", url:"https://raw.githubusercontent.com/rikorandika910/wkw/main/Nuts.mp3" }
];

// DOM
const audio = document.getElementById("audio");
const titleEl = document.getElementById("songTitle");
const artistEl = document.getElementById("songArtist");
const playBtn = document.getElementById("playBtn");
const progress = document.getElementById("progress");
const coverCanvas = document.getElementById("coverCanvas");
const ctx = coverCanvas.getContext("2d");

let current = 0;
let playing = false;

// Load first song
function loadSong(i){
  const s = songs[i];
  titleEl.textContent = s.title;
  artistEl.textContent = s.artist;
  audio.src = s.url;

  document.querySelector("#coverBox").childNodes[1].textContent =
    (s.title[0] + (s.title.split(" ")[1]||"")[0]).toUpperCase();
}
loadSong(0);

// Play/Pause
playBtn.onclick = ()=>{
  if(!playing){
    audio.play();
    playBtn.textContent="Pause";
    playing = true;
  } else {
    audio.pause();
    playBtn.textContent="Play";
    playing = false;
  }
};

// Progress
audio.ontimeupdate = ()=>{
  progress.value = audio.currentTime;
};

audio.onloadedmetadata = ()=>{
  progress.max = audio.duration;
};

progress.oninput = ()=>{
  audio.currentTime = progress.value;
};

// Visualizer (simple circle)
let audioCtx = new AudioContext();
let analyser = audioCtx.createAnalyser();
let srcNode = audioCtx.createMediaElementSource(audio);
srcNode.connect(analyser);
analyser.connect(audioCtx.destination);

analyser.fftSize = 64;
const freq = new Uint8Array(analyser.frequencyBinCount);

function draw(){
  requestAnimationFrame(draw);
  analyser.getByteFrequencyData(freq);

  const w = coverCanvas.width = coverCanvas.clientWidth;
  const h = coverCanvas.height = coverCanvas.clientHeight;

  const avg = freq.reduce((a,b)=>a+b,0) / freq.length;
  const radius = 50 + avg/4;

  ctx.clearRect(0,0,w,h);
  ctx.beginPath();
  ctx.arc(w/2, h/2, radius, 0, Math.PI*2);
  ctx.strokeStyle = "rgba(0,255,210,0.7)";
  ctx.lineWidth = 6;
  ctx.stroke();
}
draw();
</script>

</body>
</html>
